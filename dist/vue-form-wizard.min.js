/*!
 * vue-form-wizard v0.4.2
 * (c) 2017-present egoist <0x142857@gmail.com>
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vueFormWizard=e()}(this,function(){"use strict";var t={props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(t){return t>=0}}},data:function(){return{activeTabIndex:0,isLastStep:!1,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{tabCount:function(){return this.tabs.length},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},iconActiveStyle:function(){return{backgroundColor:this.color}},stepCheckedStyle:function(){return{borderColor:this.color}},errorStyle:function(){return{borderColor:this.errorColor,backgroundColor:this.errorColor}},stepTitleStyle:function(){return{color:this.tabs[this.activeTabIndex].validationError?this.errorColor:this.color}},isStepSquare:function(){return"square"===this.shape},isTabShape:function(){return"tab"===this.shape},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){var t=0;if(this.activeTabIndex>0){t=this.stepPercentage*(2*this.activeTabIndex+1)}else t=this.stepPercentage;return t}},methods:{isChecked:function(t){return t<=this.maxStep},navigateToTab:function(t){var e=this,i=t>this.activeTabIndex;if(t<=this.maxStep){var a=function(){e.changeTab(e.activeTabIndex,t)};i?this.beforeTabChange(this.activeTabIndex,a):(this.setValidationError(null),a())}},nextTab:function(){var t=this,e=function(){t.activeTabIndex<t.tabCount-1?t.changeTab(t.activeTabIndex,t.activeTabIndex+1):(t.isLastStep=!0,t.$emit("finished"))};this.beforeTabChange(this.activeTabIndex,e)},prevTab:function(){var t=this,e=function(){t.activeTabIndex>0&&(t.setValidationError(null),t.changeTab(t.activeTabIndex,t.activeTabIndex-1),t.isLastStep=!1)};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,e):e()},finish:function(){var t=this,e=function(){t.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,e)},setLoading:function(t){this.loading=t,this.$emit("on-loading",t)},setValidationError:function(t){this.tabs[this.activeTabIndex].validationError=t,this.$emit("on-error",t)},validateBeforeChange:function(t,e){var i=this;if(this.setValidationError(null),t.then&&"function"==typeof t.then)this.setLoading(!0),t.then(function(t){i.setLoading(!1);var a=!0===t;i.executeBeforeChange(a,e)}).catch(function(t){i.setLoading(!1),i.setValidationError(t)});else{var a=!0===t;this.executeBeforeChange(a,e)}},executeBeforeChange:function(t,e){this.$emit("on-validate",t,this.activeTabIndex),t?e():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(t,e){if(!this.loading){var i=this.tabs[t];if(i&&void 0!==i.beforeChange){var a=i.beforeChange();this.validateBeforeChange(a,e)}else e()}},changeTab:function(t,e){var i=this.tabs[t],a=this.tabs[e];return i&&(i.active=!1),a&&(a.active=!0),this.activeTabIndex=e,this.checkStep(),this.tryChangeRoute(a),this.increaseMaxStep(),!0},tryChangeRoute:function(t){this.$router&&t.route&&this.$router.push(t.route)},checkStep:function(){this.activeTabIndex===this.tabCount-1?this.isLastStep=!0:this.isLastStep=!1},increaseMaxStep:function(){this.activeTabIndex>this.maxStep&&(this.maxStep=this.activeTabIndex)},checkRouteChange:function(t){var e=-1,i=this.tabs.find(function(i,a){var n=i.route===t;return n&&(e=a),n});if(i&&!i.active){var a=e>this.activeTabIndex;this.navigateToTab(e,a)}},getTabs:function(){return this.$slots.default.filter(function(t){return t.componentOptions})},activateTab:function(t){var e=this.tabs[t];e.active=!0,this.tryChangeRoute(e)},activateTabAndCheckStep:function(t){this.activateTab(t),this.checkStep(),this.maxStep=this.startIndex,this.activeTabIndex=this.startIndex},initializeTabs:function(){this.tabs=this.getTabs(),this.tabs.length>0&&0===this.startIndex&&!this.tabs[this.activeTabIndex].active&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length&&this.startIndex>0&&!this.tabs[this.startIndex].active&&this.activateTabAndCheckStep(this.startIndex),this.startIndex>=this.tabs.length&&console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")},reinitializeTabs:function(){var t=this.getTabs();if(0!==this.tabs.length&&this.tabs.length!==t.length){this.tabs=t;var e=-1;this.tabs.find(function(t,i){return t.active&&(e=i),t.active}),-1===e&&(e=this.activeTabIndex>0?this.activeTabIndex-1:0),this.tabs.forEach(function(t){t.active=!1}),this.activateTab(e),this.maxStep=e,this.activeTabIndex=e}},renderTabs:function(){var t=this,e=this.$createElement;return this.tabs.map(function(i,a){var n=i.componentOptions.propsData,s=n.title,r=n.icon,o=i.active,c=i.validationError;return e("li",{class:{active:o}},[e("a",{on:{click:function(){return t.navigateToTab(a)}}},[e("div",{class:{checked:t.isChecked(a),square_shape:t.isStepSquare,tab_shape:t.isTabShape,"wizard-icon-circle":!0},style:[t.isChecked(a)?t.stepCheckedStyle:{},c?t.errorStyle:{}]},[e("transition",{attrs:{name:t.transition,mode:"out-in"}},[o&&e("div",{class:{square_shape:t.isStepSquare,tab_shape:t.isTabShape,"wizard-icon-container":!0},style:[o?t.iconActiveStyle:{},c?t.errorStyle:{}]},[r&&e("i",{class:[r,"wizard-icon"]},[]),!r&&e("i",{class:"wizard-icon"},[function(){return t.incrementedIndex(a)}," "])])]),!o&&r&&e("i",{class:[r,"wizard-icon"]},[]),!o&&r&&e("i",{class:"wizard-icon"},[function(){return t.incrementedIndex(a)}])]),e("span",{class:{active:o,has_error:c,stepTitle:!0},style:o?t.stepTitleStyle:{}},[s])])])})}},mounted:function(){this.initializeTabs()},render:function(){var t=arguments[0],e=this.renderTabs();return t("div",{class:"vue-form-wizard"},[t("div",{class:"wizard-header"},[t("slot",{attrs:{name:"title"}},[t("h4",{class:"wizard-title"},[this.title]),t("p",{class:"category"},[this.subtitle])])]),t("div",{class:"wizard-navigation"},[t("div",{class:"wizard-progress-with-circle"},[t("div",{class:"wizard-progress-bar",style:this.progressBarStyle},[])]),t("ul",{class:"wizard-nav wizard-nav-pills"},[e]),t("div",{class:"wizard-tab-content"},[this.$slots.default])]),!this.hideButtons&&t("div",{class:"wizard-card-footer clearfix"},[this.displayPrevButton&&t("span",{on:{click:this.prevTab},class:"wizard-footer-left"},[t("slot",{attrs:{name:"prev"}},[t("button",{attrs:{type:"button",disabled:this.loading},class:"wizard-btn btn-default wizard-btn-wd",style:this.fillButtonStyle},[this.backButtonText])])]),this.isLastStep&&t("span",{on:{click:this.finish},class:"wizard-footer-right"},[t("slot",{attrs:{name:"finish"}},[t("button",{attrs:{type:"button"},class:"wizard-btn btn-fill wizard-btn-wd btn-next",style:this.fillButtonStyle},[this.finishButtonText])])]),!this.isLastStep&&t("span",{on:{click:this.nextTab},class:"wizard-footer-right"},[t("slot",{attrs:{name:"next"}},[t("button",{attrs:{type:"button",disabled:this.loading},class:"wizard-btn btn-fill wizard-btn-wd btn-next",style:this.fillButtonStyle},[this.nextButtonText])])])])])},watch:{"$route.path":function(t){this.checkRouteChange(t)}}},e={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},route:{type:[String,Object]}},data:function(){return{active:!1,validationError:null}},render:function(){var t=arguments[0];if(this.active)return t("div",{class:"wizard-tab-container"},[this.$slots.default])}};return{install:function(i){i.component("form-wizard",t),i.component("tab-content",e)}}});
//# sourceMappingURL=vue-form-wizard.min.js.map
